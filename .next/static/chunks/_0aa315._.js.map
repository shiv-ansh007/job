{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Hp/Desktop/project-hack/job/app/lib/firebase.js"],"sourcesContent":[" // firebase.js\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n// ðŸ”¹ Load Firebase config from .env.local\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// ðŸ”¹ Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// ðŸ”¹ Initialize Firebase services\r\nconst db = getFirestore(app);\r\nconst auth = getAuth(app);\r\nconst storage = getStorage(app);\r\n\r\nexport { db, auth, storage };\r\n"],"names":[],"mappings":"AAAC,cAAc;;;;;;AACf;AACA;AACA;AACA;AAIU;AAPV;AACA;AACA;AACA;;;;;AAEA,0CAA0C;AAC1C,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,yBAAyB;AACzB,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,kCAAkC;AAClC,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,UAAU,CAAA,GAAA,oKAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Hp/Desktop/project-hack/job/app/profile/page.js"],"sourcesContent":[" \"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getAuth, updateProfile } from \"firebase/auth\";\r\n \r\n \r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {db} from \"../lib/firebase\"; // Import Firestore\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\n\r\nconst Profile = ({ setShowProfile }) => {\r\n  const auth = getAuth();\r\n  const [user, setUser] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [resumeData, setResumeData] = useState({\r\n    displayName: \"\",\r\n    email: \"\",\r\n    phoneNumber: \"\",\r\n    location: \"\",\r\n    resume: \"\",\r\n    skills: [],\r\n    experience: \"\",\r\n  });\r\n\r\n  // ðŸ”¹ Fetch user data on mount & when user updates\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      const currentUser = auth.currentUser;\r\n      if (!currentUser) return;\r\n\r\n      setUser(currentUser); // Set Firebase Auth user\r\n\r\n      const userDocRef = doc(db, \"users\", currentUser.uid);\r\n      const docSnap = await getDoc(userDocRef);\r\n\r\n      if (docSnap.exists()) {\r\n        setResumeData(docSnap.data()); // Set Firestore user data\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, [user]); // ðŸ”¹ Re-run when `user` changes\r\n\r\n  // ðŸ”¹ Close Profile Overlay\r\n  const onClick = () => {\r\n    setShowProfile((prev) => !prev);\r\n  };\r\n\r\n  // ðŸ”¹ Update Firebase Auth Profile\r\n  const handleUpdateProfile = async (updatedData) => {\r\n    if (!auth.currentUser) {\r\n      console.log(\"No user is signed in.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const currentUser = getAuth().currentUser; // Get latest user reference\r\n      if (currentUser) {\r\n        await updateProfile(currentUser, { displayName: updatedData.displayName });\r\n        await currentUser.reload();\r\n        setUser(getAuth().currentUser); // Update state with new user data\r\n        console.log(\"Profile updated successfully:\", getAuth().currentUser);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n    }\r\n  };\r\n\r\n  // ðŸ”¹ Save Profile Data to Firestore & Update UI\r\n  const handleSave = async (updatedData) => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const userId = user.uid;\r\n      await setDoc(doc(db, \"users\", userId), updatedData);\r\n\r\n      // ðŸ”¹ Update local state to reflect changes instantly\r\n      setResumeData(updatedData);\r\n      await handleUpdateProfile(updatedData); // Also update Firebase Auth\r\n\r\n      alert(\"Profile updated successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error updating resume:\", error);\r\n    }\r\n\r\n    setIsEditing(false);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.profileOverlay} onClick={onClick}>\r\n      <div className={styles.profileContainer} onClick={(e) => e.stopPropagation()}>\r\n        <button className={styles.closeButton} onClick={onClick}>\r\n          âœ–\r\n        </button>\r\n\r\n        {/* Resume Profile Section */}\r\n        <div className=\"p-6 max-w-lg mx-auto bg-white shadow-md rounded\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Resume Profile</h2>\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"displayName\"\r\n            value={resumeData.displayName}\r\n            onChange={(e) => setResumeData({ ...resumeData, displayName: e.target.value })}\r\n            placeholder=\"Full Name\"\r\n            className=\"w-full p-2 border rounded mb-2\"\r\n          />\r\n\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={resumeData.email}\r\n            placeholder=\"Email\"\r\n            className=\"w-full p-2 border rounded mb-2\"\r\n            disabled // ðŸ”¹ Email should not be editable\r\n          />\r\n\r\n          <button onClick={() => handleSave(resumeData)} className=\"mt-4 bg-blue-600 text-white p-2 rounded\">\r\n            Save Resume\r\n          </button>\r\n        </div>\r\n\r\n        {/* Profile Information */}\r\n        <h1 className=\"text-3xl font-bold text-center\">Profile</h1>\r\n        <div className=\"mt-4\">\r\n          <p className=\"text-lg\">\r\n            <strong>Name:</strong> {user ? user.displayName : \"Loading...\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Email:</strong> {user ? user.email : \"Loading...\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Phone:</strong> {resumeData.phoneNumber || \"Not Provided\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Location:</strong> {resumeData.location || \"Not Provided\"}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <button className={styles.editButton} onClick={() => setIsEditing(true)}>\r\n          Edit Profile\r\n        </button>\r\n\r\n        {/* Edit Profile Form */}\r\n        {isEditing && <EditProfile onSave={handleSave} onCancel={() => setIsEditing(false)} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  setShowProfile: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Profile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}