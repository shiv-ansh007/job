{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Hp/Desktop/project-hack/job/app/profile/page.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { db, storage } from \"./firebaseConfig\";\r\nimport { collection, doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\nconst Profile = () => {\r\n  const [profile, setProfile] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    profileImage: \"\",\r\n    resume: \"\",\r\n  });\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [resumeFile, setResumeFile] = useState(null);\r\n\r\n  const userId = \"user123\"; // Replace with actual user ID (from authentication)\r\n\r\n  // Fetch user data from Firestore\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      const docRef = doc(db, \"users\", userId);\r\n      const docSnap = await getDoc(docRef);\r\n      if (docSnap.exists()) {\r\n        setProfile(docSnap.data());\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  // Handle file uploads\r\n  const handleFileUpload = async (file, type) => {\r\n    if (!file) return;\r\n    const fileRef = ref(storage, `users/${userId}/${type}`);\r\n    await uploadBytes(fileRef, file);\r\n    return await getDownloadURL(fileRef);\r\n  };\r\n\r\n  // Save profile data\r\n  const handleSave = async () => {\r\n    const profileImageUrl = imageFile ? await handleFileUpload(imageFile, \"profileImage\") : profile.profileImage;\r\n    const resumeUrl = resumeFile ? await handleFileUpload(resumeFile, \"resume\") : profile.resume;\r\n\r\n    const updatedProfile = {\r\n      ...profile,\r\n      profileImage: profileImageUrl,\r\n      resume: resumeUrl,\r\n    };\r\n\r\n    await setDoc(doc(db, \"users\", userId), updatedProfile);\r\n    setProfile(updatedProfile);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-lg mx-auto p-6 bg-white shadow-md rounded-lg\">\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Profile</h2>\r\n      \r\n      {/* Profile Image */}\r\n      <div className=\"mb-4\">\r\n        <img\r\n          src={profile.profileImage || \"https://via.placeholder.com/150\"}\r\n          alt=\"Profile\"\r\n          className=\"w-32 h-32 rounded-full object-cover border-2 border-gray-300\"\r\n        />\r\n        <input type=\"file\" accept=\"image/*\" onChange={(e) => setImageFile(e.target.files[0])} />\r\n      </div>\r\n\r\n      {/* User Info */}\r\n      <div className=\"mb-4\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"w-full p-2 border rounded\"\r\n          placeholder=\"Name\"\r\n          value={profile.name}\r\n          onChange={(e) => setProfile({ ...profile, name: e.target.value })}\r\n        />\r\n      </div>\r\n      <div className=\"mb-4\">\r\n        <input\r\n          type=\"email\"\r\n          className=\"w-full p-2 border rounded\"\r\n          placeholder=\"Email\"\r\n          value={profile.email}\r\n          onChange={(e) => setProfile({ ...profile, email: e.target.value })}\r\n        />\r\n      </div>\r\n\r\n      {/* Resume Upload */}\r\n      <div className=\"mb-4\">\r\n        <label className=\"block\">Resume (PDF only):</label>\r\n        <input type=\"file\" accept=\".pdf\" onChange={(e) => setResumeFile(e.target.files[0])} />\r\n        {profile.resume && <a href={profile.resume} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500\">View Resume</a>}\r\n      </div>\r\n\r\n      {/* Save Button */}\r\n      <button onClick={handleSave} className=\"w-full bg-blue-500 text-white p-2 rounded\">Save Profile</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}