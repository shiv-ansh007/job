{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/app/profile/Profile.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"cancelButton\": \"Profile-module__lJERFq__cancelButton\",\n  \"closeButton\": \"Profile-module__lJERFq__closeButton\",\n  \"editButton\": \"Profile-module__lJERFq__editButton\",\n  \"fadeIn\": \"Profile-module__lJERFq__fadeIn\",\n  \"profileContainer\": \"Profile-module__lJERFq__profileContainer\",\n  \"profileDetails\": \"Profile-module__lJERFq__profileDetails\",\n  \"profileForm\": \"Profile-module__lJERFq__profileForm\",\n  \"profileInput\": \"Profile-module__lJERFq__profileInput\",\n  \"profileItem\": \"Profile-module__lJERFq__profileItem\",\n  \"profileLabel\": \"Profile-module__lJERFq__profileLabel\",\n  \"profileOverlay\": \"Profile-module__lJERFq__profileOverlay\",\n  \"profileTitle\": \"Profile-module__lJERFq__profileTitle\",\n  \"saveButton\": \"Profile-module__lJERFq__saveButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Hp/Desktop/project-hack/job/app/profile/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { getAuth, updateProfile } from \"firebase/auth\";\r\nimport styles from \"./Profile.module.css\";\r\nimport EditProfile from \"../EditProfile\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { db } from \"../../lib/firebase\"; // Import Firestore\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\n\r\nconst Profile = ({ setShowProfile, onEdit }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [resumeData, setResumeData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    experience: [],\r\n    education: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    const currentUser = auth.currentUser;\r\n  \r\n    if (!currentUser) return;\r\n  \r\n    setUser(currentUser); // Ensure user state is set properly\r\n  \r\n    const fetchResume = async () => {\r\n      const userId = currentUser.uid; // Ensure userId is retrieved correctly\r\n      const docRef = doc(db, \"resumes\", userId);\r\n      const docSnap = await getDoc(docRef);\r\n  \r\n      if (docSnap.exists()) {\r\n        setResumeData(docSnap.data());\r\n      }\r\n    };\r\n  \r\n    fetchResume();\r\n  }, [user]); // Re-run when `user` changes\r\n  \r\n  \r\n\r\n  const onClick = () => {\r\n    setShowProfile((prev) => !prev);\r\n  };\r\n\r\n  const handleUpdateProfile = async () => {\r\n    if (!user) {\r\n      console.log(\"No user is signed in.\");\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      await updateProfile(user, { displayName: \"New DisName\" });\r\n      await user.reload(); // Ensure Firebase refreshes user data\r\n      const updatedUser = getAuth().currentUser; // Get the latest user info\r\n      setUser(updatedUser); // Update state with refreshed user data\r\n      console.log(\"Profile updated successfully:\", updatedUser);\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n    }\r\n  };\r\n  \r\n \r\n\r\n  const handleChange = (e) => {\r\n    setResumeData({ ...resumeData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setIsEditing(false);\r\n    // Optionally, refresh user data\r\n    if (!userId) return;\r\n\r\n    try {\r\n      await setDoc(doc(db, \"resumes\", userId), resumeData);\r\n      alert(\"Resume updated successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error updating resume:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.profileOverlay} onClick={onClick}>\r\n      <div className={styles.profileContainer} onClick={(e) => e.stopPropagation()}>\r\n        <button className={styles.closeButton} onClick={onClick}>\r\n          âœ–\r\n        </button>\r\n        <div className=\"p-6 max-w-lg mx-auto bg-white shadow-md rounded\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Resume Profile</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={resumeData.name}\r\n        onChange={handleChange}\r\n        placeholder=\"Full Name\"\r\n        className=\"w-full p-2 border rounded mb-2\"\r\n      />\r\n\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        value={resumeData.email}\r\n        onChange={handleChange}\r\n        placeholder=\"Email\"\r\n        className=\"w-full p-2 border rounded mb-2\"\r\n      />\r\n\r\n      <button onClick={handleSave} className=\"mt-4 bg-blue-600 text-white p-2 rounded\">\r\n        Save Resume\r\n      </button>\r\n    </div>\r\n  \r\n\r\n\r\n        <h1 className=\"text-3xl font-bold z-index:99 text-center\">Profile</h1>\r\n        <div className=\"mt-4\">\r\n          <p className=\"text-lg\">\r\n            <strong>Name:</strong> {user ? user.displayName : \"Loading...\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Email:</strong> {user ? user.email : \"Loading...\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Phone:</strong> {user ? user.phoneNumber : \"Loading...\"}\r\n          </p>\r\n          <p className=\"text-lg\">\r\n            <strong>Location:</strong> {user ? user.location : \"Loading...\"}\r\n          </p>\r\n        </div>\r\n        <button className={styles.editButton} onClick={handleUpdateProfile}>\r\n          Update Profile\r\n        </button>\r\n        <button className={styles.editButton} onClick={handleEdit}>\r\n          Edit Profile\r\n        </button>\r\n        <div className={styles.container}>\r\n          {isEditing ? (\r\n            <EditProfile onSave={handleSave} onCancel={handleCancel} />\r\n          ) : (\r\n            <>\r\n              <h1></h1>\r\n              {/* Display user information */}\r\n              <button onClick={handleEdit}></button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProfile.propTypes = {\r\n  setShowProfile: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Profile;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}